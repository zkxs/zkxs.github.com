import init,{lookup,autocomplete}from"./mictionary.js";async function run(){await init(),window.lookup=lookup,window.autocomplete=autocomplete;const t=document.getElementById("input"),e=document.getElementById("definition"),s=new RegExp("{([^}]+)}","g");function n(){if(t.value){const n=lookup(t.value);if(n){const t=n.replaceAll(s,`<a href="javascript:setWord('$1')">$1</a>`);if(t.includes(`
`)){const t=n.split(`
`).map(e=>`<li>${e}</li>`).join("");e.innerHTML=`<ol>${t}</ol>`}else e.innerHTML=t}else{e.innerHTML="<i>not a word</i>",e.className="error";return}}else e.innerHTML="";e.className=""}function o(e){t.value=e,n()}window.setWord=o,t.addEventListener("input",n),document.getElementById("clear").addEventListener("click",()=>{t.value="",n()}),n()}run()