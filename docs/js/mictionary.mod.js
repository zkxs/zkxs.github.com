import init,{lookup}from"./mictionary.js";async function run(){await init(),window.lookup=lookup;const e=document.getElementById("input"),t=document.getElementById("definition"),s=new RegExp("{([^}]+)}","g");function n(){if(e.value){const n=lookup(e.value);if(n==="")t.innerHTML="<i>this is a word, but Mictionary has no definition</i>";else if(n!==0[0]){const e=n.replaceAll(s,`<a href="javascript:setWord('$1')">$1</a>`);if(e.includes(`
`)){const n=e.split(`
`).map(e=>`<li>${e}</li>`).join("");t.innerHTML=`<ol>${n}</ol>`}else t.innerHTML=e}else{t.innerHTML="<i>not a word</i>",t.className="error";return}}else t.innerHTML="";t.className=""}e.addEventListener("input",n),e.addEventListener("keyup",t=>{t.key==="Enter"&&e.select()});function o(t){e.value=t,n()}window.setWord=o,document.getElementById("clear").addEventListener("click",()=>{e.value="",e.focus(),n()}),n(),e.focus()}run()